你好啊
本地化obsidian

使用互斥量保护共享数据

##  发现接口内在的条件竞争：


**选项1： 传入一个引用**
**选项2：无异常抛出的拷贝构造函数或移动构造函数**
**选项3：返回指向弹出值的指针**
**选项4：“选项1 + 选项2”或 “选项1 + 选项3”**


定义线程安全的堆栈：

堆栈可以拷贝——拷贝构造函数对互斥量上锁，再拷贝堆栈。构造函数体中①的拷贝使用互斥量来确保复制结果的正确性，这样的方式比成员初始化列表好。

>
